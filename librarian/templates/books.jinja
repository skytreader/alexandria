{% extends "main.jinja" %}

{% macro render_card_catalog(book) %}
<div class="panel panel-default">
    <div class="panel-heading">{{ book.title }}</div>
    <div class="panel-body">
        {% if book.author %}
            <p><strong>Authors:</strong>
            {% for author in book.author %}
                {{ author.lastname }}, {{ author.firstname }}.
            {% endfor %}
            </p>
        {% endif %}
        {% if book.illustrator %}
            <p><strong>Illustrators:</strong>
            {% for illustrator in book.illustrator %}
                {{ illustrator.lastname }}, {{ illustrator.firstname }}.
            {% endfor %}
            </p>
        {% endif %}
        {{ book.publisher }}
        <p>ISBN: {{ book.isbn }}</p>
    </div>
</div>
{% endmacro %}

{% block title %}Browse Books{% endblock %}
{% block content %}
    <h1>Browse the library's collection</h1>

    {% for book in books %}
        {{ render_card_catalog(book) }}
    {% endfor %}
{% endblock %}
